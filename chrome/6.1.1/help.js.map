{"version":3,"file":"help.js","mappings":"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","sources":["webpack:///./maze-utils/src/config.ts","webpack:///./maze-utils/src/index.ts","webpack:///./maze-utils/src/setup.ts","webpack:///./src/config.ts","webpack:///./src/help.ts","webpack:///./src/types.ts","webpack:///./src/utils/configUtils.ts","webpack:///./src/utils/crossExtension.ts","webpack:///./src/utils/skipRule.type.ts","webpack:///webpack/bootstrap","webpack:///webpack/startup"],"sourcesContent":["import { isFirefoxOrSafari } from \".\";\n\nexport interface SyncStorage {\n    invidiousInstances: string[];\n}\n\nexport interface LocalStorage {\n    navigationApiAvailable: boolean;\n}\n\ninterface StorageObjects<T, U> {\n    sync: T;\n    local: U;\n}\n\nexport type StorageChangesObject = { [key: string]: chrome.storage.StorageChange };\n\nexport type Keybind = {\n    key: string | null;\n    code?: string | null;\n    ctrl?: boolean | null;\n    alt?: boolean | null;\n    shift?: boolean | null;\n}\n\nexport class ProtoConfig<T extends SyncStorage, U extends LocalStorage> {\n    configLocalListeners: Array<(changes: StorageChangesObject) => unknown> = [];\n    configSyncListeners: Array<(changes: StorageChangesObject) => unknown> = [];\n    syncDefaults: T;\n    localDefaults: U;\n    cachedSyncConfig: T | null = null;\n    cachedLocalStorage: U | null = null;\n    config: T | null = null;\n    local: U | null = null;\n    inDeArrow = false;\n\n    constructor (syncDefaults: T, localDefaults: U,\n            migrateOldSyncFormats: (config: T, local?: U) => void, inDeArrow = false) {\n        this.syncDefaults = syncDefaults;\n        this.localDefaults = localDefaults;\n        this.inDeArrow = inDeArrow;\n\n        void this.setupConfig(migrateOldSyncFormats).then((result) => {\n            this.config = result?.sync;\n            this.local = result?.local;\n        });\n    }\n\n    configProxy(): StorageObjects<T, U> {\n        chrome.storage.onChanged.addListener((changes: {[key: string]: chrome.storage.StorageChange}, areaName) => {\n            if (areaName === \"sync\") {\n                for (const key in changes) {\n                    this.cachedSyncConfig![key] = changes[key].newValue;\n                }\n    \n                for (const callback of this.configSyncListeners) {\n                    callback(changes);\n                }\n            } else if (areaName === \"local\") {\n                for (const key in changes) {\n                    this.cachedLocalStorage![key] = changes[key].newValue;\n                }\n    \n                for (const callback of this.configLocalListeners) {\n                    callback(changes);\n                }\n            }\n        });\n\n        let lastSet = 0;\n        const nextToUpdate: Set<string> = new Set();\n        let activeTimeout: NodeJS.Timeout | null = null;\n\n        const self = this;\n        const syncHandler: ProxyHandler<SyncStorage> = {\n            set<K extends keyof SyncStorage>(obj: SyncStorage, prop: K, value: SyncStorage[K]) {\n                self.cachedSyncConfig![prop] = value;\n\n                if (Date.now() - lastSet < 100) {\n                    nextToUpdate.add(prop);\n                    if (!activeTimeout) {\n                        const delayUpdate = () => {\n                            const items = [...nextToUpdate];\n                            nextToUpdate.clear();\n\n                            void chrome.storage.sync.set(items.map((v) => [v, self.cachedSyncConfig![v]]).reduce((acc, [k, v]) => {\n                                acc[k] = v;\n                                return acc;\n                            }, {}));\n\n                            activeTimeout = null;\n                        }\n\n                        activeTimeout = setTimeout(delayUpdate, 20);\n                    }\n\n                    return true;\n                }\n    \n                void chrome.storage.sync.set({\n                    [prop]: value\n                });\n\n                lastSet = Date.now();\n    \n                return true;\n            },\n    \n            get<K extends keyof SyncStorage>(obj: SyncStorage, prop: K): SyncStorage[K] {\n                const data = self.cachedSyncConfig![prop];\n    \n                return obj[prop] || data;\n            },\n    \n            deleteProperty(obj: SyncStorage, prop: keyof SyncStorage) {\n                void chrome.storage.sync.remove(<string> prop);\n    \n                return true;\n            }\n    \n        };\n    \n        const localHandler: ProxyHandler<LocalStorage> = {\n            set<K extends keyof LocalStorage>(obj: LocalStorage, prop: K, value: LocalStorage[K]) {\n                self.cachedLocalStorage![prop] = value;\n    \n                void chrome.storage.local.set({\n                    [prop]: value\n                });\n    \n                return true;\n            },\n    \n            get<K extends keyof LocalStorage>(obj: LocalStorage, prop: K): LocalStorage[K] {\n                const data = self.cachedLocalStorage![prop];\n    \n                return obj[prop] || data;\n            },\n    \n            deleteProperty(obj: LocalStorage, prop: keyof LocalStorage) {\n                void chrome.storage.local.remove(<string> prop);\n    \n                return true;\n            }\n    \n        };\n    \n        return {\n            sync: new Proxy<T>({ handler: syncHandler } as unknown as T, syncHandler),\n            local: new Proxy<U>({ handler: localHandler } as unknown as U, localHandler)\n        };\n    }\n    \n    forceSyncUpdate(prop: string): void {\n        const value = this.cachedSyncConfig![prop];\n        void chrome.storage.sync.set({\n            [prop]: value\n        });\n    }\n    \n    forceLocalUpdate(prop: string): void {\n        const value = this.cachedLocalStorage![prop];\n\n        void chrome.storage.local.set({\n            [prop]: value\n        }, () => {\n            const error = chrome.runtime.lastError;\n            if (error && prop !== \"navigationApiAvailable\") {\n                alert(`SponsorBlock/DeArrow: ${chrome.i18n.getMessage(\"storageFull\")}\\n\\n${error}`);\n            }\n        });\n    }\n    \n    async fetchConfig(): Promise<void> {\n        await Promise.all([new Promise<void>((resolve) => {\n            chrome.storage.sync.get(null, (items) => {\n                this.cachedSyncConfig = <T> <unknown> items;\n\n                if (this.cachedSyncConfig === undefined) {\n                    this.cachedSyncConfig = {} as T;\n\n                    if (this.inDeArrow \n                            || window.location.href.includes(\"options.html\")) {\n                        alert(`${chrome.i18n.getMessage(\"syncDisabledWarning\")}${\n                            this.inDeArrow ? `\\n\\n${chrome.i18n.getMessage(\"syncDisabledWarningDeArrow\")}` : ``}${\n                            isFirefoxOrSafari() && !isSafari() ? `\\n\\n${chrome.i18n.getMessage(\"syncDisabledFirefoxSuggestions\")}` : ``}`);\n                    }\n                }\n\n                resolve();\n            });\n        }), new Promise<void>((resolve) => {\n            chrome.storage.local.get(null, (items) => {\n                this.cachedLocalStorage = <U> <unknown> (items ?? {});\n                resolve();\n            });\n        })]);\n    }\n    \n    async setupConfig(migrateOldSyncFormats: (config: T, local?: U) => void): Promise<StorageObjects<T, U>> {\n        if (typeof(chrome) === \"undefined\") return null as unknown as StorageObjects<T, U>;\n    \n        await this.fetchConfig();\n        this.addDefaults();\n        const result = this.configProxy();\n        migrateOldSyncFormats(result.sync, result.local);\n    \n        return result;\n    }\n    \n    // Add defaults\n    addDefaults() {\n        for (const key in this.syncDefaults) {\n            if(!Object.prototype.hasOwnProperty.call(this.cachedSyncConfig, key)) {\n                this.cachedSyncConfig![key] = this.syncDefaults[key];\n            } else if (key === \"barTypes\") {\n                for (const key2 in this.syncDefaults[key]) {\n                    if(!Object.prototype.hasOwnProperty.call(this.cachedSyncConfig![key], key2)) {\n                        this.cachedSyncConfig![key][key2] = this.syncDefaults[key][key2];\n                    }\n                }\n            }\n        }\n    \n        for (const key in this.localDefaults) {\n            if(!Object.prototype.hasOwnProperty.call(this.cachedLocalStorage, key)) {\n                this.cachedLocalStorage![key] = this.localDefaults[key];\n            }\n        }\n    }\n\n    isReady(): boolean {\n        return this.config !== null;\n    }\n}\n\nexport function isSafari(): boolean {\n    return typeof(navigator) !== \"undefined\" && navigator.vendor === \"Apple Computer, Inc.\";\n}\n\nexport function keybindEquals(first: Keybind, second: Keybind): boolean {\n    if (first == null || second == null ||\n            Boolean(first.alt) != Boolean(second.alt) || Boolean(first.ctrl) != Boolean(second.ctrl) || Boolean(first.shift) != Boolean(second.shift) ||\n            first.key == null && first.code == null || second.key == null && second.code == null)\n        return false;\n    if (first.code != null && second.code != null)\n        return first.code === second.code;\n    if (first.key != null && second.key != null)\n        return first.key.toUpperCase() === second.key.toUpperCase();\n    return false;\n}\n\nexport function formatKey(key: string): string {\n    if (key == null)\n        return \"\";\n    else if (key == \" \")\n        return \"Space\";\n    else if (key.length == 1)\n        return key.toUpperCase();\n    else\n        return key;\n}\n\nexport function keybindToString(keybind: Keybind): string {\n    if (keybind == null || keybind.key == null)\n        return \"\";\n\n    let ret = \"\";\n    if (keybind.ctrl)\n        ret += \"Ctrl + \";\n    if (keybind.alt)\n        ret += \"Alt + \";\n    if (keybind.shift)\n        ret += \"Shift + \";\n\n    return ret += formatKey(keybind.key);\n}","/** Function that can be used to wait for a condition before returning. */\nexport async function waitFor<T>(condition: () => T, timeout = 5000, check = 100, predicate?: (obj: T) => boolean): Promise<T> {\n    return await new Promise((resolve, reject) => {\n        let interval: NodeJS.Timeout | null = null;\n\n        const intervalCheck = () => {\n            const result = condition();\n            if (predicate ? predicate(result) : result) {\n                resolve(result);\n                if (interval) clearInterval(interval);\n            }\n        };\n\n        if (timeout) {\n            setTimeout(() => {\n                clearInterval(interval!);\n                reject(`TIMEOUT waiting for ${condition?.toString()}: ${Error().stack}`);\n            }, timeout);\n\n            interval = setInterval(intervalCheck, check);\n        }\n        \n        // Run the check once first, this speeds it up a lot\n        intervalCheck();\n    });\n}\n\nexport function objectToURI<T>(url: string, data: T, includeQuestionMark: boolean): string {\n    let counter = 0;\n    for (const key in data) {\n        const seperator = (url.includes(\"?\") || counter > 0) ? \"&\" : (includeQuestionMark ? \"?\" : \"\");\n        const value = (typeof(data[key]) === \"string\") ? data[key] as unknown as string : JSON.stringify(data[key]);\n        url += seperator + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n\n        counter++;\n    }\n\n    return url;\n}\n\nexport class PromiseTimeoutError<T> extends Error {\n    promise?: Promise<T>;\n\n    constructor(promise?: Promise<T>) {\n        super(\"Promise timed out\");\n\n        this.promise = promise;\n    }\n}\n\nexport function timeoutPomise<T>(timeout?: number): Promise<T> {\n    return new Promise((resolve, reject) => {\n        if (timeout) {\n            setTimeout(() => {\n                reject(new PromiseTimeoutError());\n            }, timeout);\n        }\n    });\n}\n\n/**\n* web-extensions\n*/\nconst onFirefoxOrSafari = typeof(chrome) !== \"undefined\" && chrome.runtime.getManifest().browser_specific_settings;\nconst onFirefox = typeof(chrome) !== \"undefined\" && chrome.runtime.getManifest().browser_specific_settings?.gecko;\nexport function isFirefox(): boolean {\n    return onFirefox;\n}\nexport function isFirefoxOrSafari(): boolean {\n    return onFirefoxOrSafari;\n}\n\nlet cachedUserAgent: string;\nexport function extensionUserAgent(): string {\n    cachedUserAgent ??= `${chrome.runtime.id}/v${chrome.runtime.getManifest().version}`;\n    return cachedUserAgent;\n}\n","export function generateUserID(length = 36): string {\n    const charset = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    let result = \"\";\n    const cryptoFuncs = typeof window === \"undefined\" ? crypto : window.crypto;\n    if (cryptoFuncs && cryptoFuncs.getRandomValues) {\n            const values = new Uint32Array(length);\n            cryptoFuncs.getRandomValues(values);\n            for (let i = 0; i < length; i++) {\n                    result += charset[values[i] % charset.length];\n            }\n            return result;\n    } else {\n            for (let i = 0; i < length; i++) {\n                result += charset[Math.floor(Math.random() * charset.length)];\n            }\n            return result;\n    }\n}\n\nexport function localizeHtmlPage(): void {\n    // Localize by replacing __MSG_***__ meta tags\n    const localizedTitle = getLocalizedMessage(document.title);\n    if (localizedTitle) document.title = localizedTitle;\n\n    const body = document.querySelector(\".sponsorBlockPageBody\");\n    const localizedMessage = getLocalizedMessage(body!.innerHTML.toString());\n    if (localizedMessage) body!.innerHTML = localizedMessage;\n}\n\nexport function getLocalizedMessage(text: string): string | false {\n    const valNewH = text.replace(/__MSG_(\\w+)__/g, function(match, v1) {\n        return v1 ? chrome.i18n.getMessage(v1).replace(/</g, \"&#60;\")\n            .replace(/\"/g, \"&quot;\").replace(/\\n/g, \"<br/>\") : \"\";\n    });\n\n    if (valNewH != text) {\n        return valNewH;\n    } else {\n        return false;\n    }\n}","import * as CompileConfig from \"../config.json\";\nimport * as invidiousList from \"../ci/invidiouslist.json\";\nimport { Category, CategorySelection, CategorySkipOption, NoticeVisibilityMode, PreviewBarOption, SponsorHideType, SponsorTime, VideoID, SegmentListDefaultTab } from \"./types\";\nimport { Keybind, keybindEquals, ProtoConfig } from \"../maze-utils/src/config\";\nimport type { HashedValue } from \"../maze-utils/src/hash\";\nimport { AdvancedSkipCheck, AdvancedSkipPredicate, AdvancedSkipRule, Permission, PredicateOperator } from \"./utils/skipRule.type\";\n\ninterface SBConfig {\n    userID: string;\n    isVip: boolean;\n    permissions: Record<Category, Permission>;\n    defaultCategory: Category;\n    segmentListDefaultTab: SegmentListDefaultTab;\n    renderSegmentsAsChapters: boolean;\n    forceChannelCheck: boolean;\n    minutesSaved: number;\n    skipCount: number;\n    sponsorTimesContributed: number;\n    submissionCountSinceCategories: number; // New count used to show the \"Read The Guidelines!!\" message\n    showTimeWithSkips: boolean;\n    disableSkipping: boolean;\n    muteSegments: boolean;\n    fullVideoSegments: boolean;\n    fullVideoLabelsOnThumbnails: boolean;\n    manualSkipOnFullVideo: boolean;\n    trackViewCount: boolean;\n    trackViewCountInPrivate: boolean;\n    trackDownvotes: boolean;\n    trackDownvotesInPrivate: boolean;\n    dontShowNotice: boolean;\n    showUpcomingNotice: boolean;\n    noticeVisibilityMode: NoticeVisibilityMode;\n    hideVideoPlayerControls: boolean;\n    hideInfoButtonPlayerControls: boolean;\n    hideDeleteButtonPlayerControls: boolean;\n    hideUploadButtonPlayerControls: boolean;\n    hideSkipButtonPlayerControls: boolean;\n    hideDiscordLaunches: number;\n    hideDiscordLink: boolean;\n    invidiousInstances: string[];\n    supportInvidious: boolean;\n    serverAddress: string;\n    minDuration: number;\n    skipNoticeDuration: number;\n    audioNotificationOnSkip: boolean;\n    checkForUnlistedVideos: boolean;\n    testingServer: boolean;\n    ytInfoPermissionGranted: boolean;\n    allowExpirements: boolean;\n    showDonationLink: boolean;\n    showPopupDonationCount: number;\n    showUpsells: boolean;\n    showNewFeaturePopups: boolean;\n    donateClicked: number;\n    autoHideInfoButton: boolean;\n    autoSkipOnMusicVideos: boolean;\n    skipNonMusicOnlyOnYoutubeMusic: boolean;\n    colorPalette: {\n        red: string;\n        white: string;\n        locked: string;\n    };\n    scrollToEditTimeUpdate: boolean;\n    categoryPillUpdate: boolean;\n    hookUpdate: boolean;\n    showChapterInfoMessage: boolean;\n    darkMode: boolean;\n    showCategoryGuidelines: boolean;\n    showCategoryWithoutPermission: boolean;\n    showSegmentNameInChapterBar: boolean;\n    showAutogeneratedChapters: boolean;\n    useVirtualTime: boolean;\n    showSegmentFailedToFetchWarning: boolean;\n    allowScrollingToEdit: boolean;\n    deArrowInstalled: boolean;\n    showDeArrowPromotion: boolean;\n    showDeArrowInSettings: boolean;\n    shownDeArrowPromotion: boolean;\n    showZoomToFillError2: boolean;\n    cleanPopup: boolean;\n    hideSegmentCreationInPopup: boolean;\n    prideTheme: boolean;\n\n    // Used to cache calculated text color info\n    categoryPillColors: {\n        [key in Category]: {\n            lastColor: string;\n            textColor: string;\n        }\n    };\n\n    skipKeybind: Keybind;\n    skipToHighlightKeybind: Keybind;\n    startSponsorKeybind: Keybind;\n    submitKeybind: Keybind;\n    actuallySubmitKeybind: Keybind;\n    previewKeybind: Keybind;\n    nextChapterKeybind: Keybind;\n    previousChapterKeybind: Keybind;\n    closeSkipNoticeKeybind: Keybind;\n    upvoteKeybind: Keybind;\n    downvoteKeybind: Keybind;\n\n    // What categories should be skipped\n    categorySelections: CategorySelection[];\n\n    payments: {\n        licenseKey: string;\n        lastCheck: number;\n        lastFreeCheck: number;\n        freeAccess: boolean;\n        chaptersAllowed: boolean;\n    };\n\n    // Preview bar\n    barTypes: {\n        \"preview-chooseACategory\": PreviewBarOption;\n        \"sponsor\": PreviewBarOption;\n        \"preview-sponsor\": PreviewBarOption;\n        \"selfpromo\": PreviewBarOption;\n        \"preview-selfpromo\": PreviewBarOption;\n        \"exclusive_access\": PreviewBarOption;\n        \"interaction\": PreviewBarOption;\n        \"preview-interaction\": PreviewBarOption;\n        \"intro\": PreviewBarOption;\n        \"preview-intro\": PreviewBarOption;\n        \"outro\": PreviewBarOption;\n        \"preview-outro\": PreviewBarOption;\n        \"preview\": PreviewBarOption;\n        \"preview-preview\": PreviewBarOption;\n        \"music_offtopic\": PreviewBarOption;\n        \"preview-music_offtopic\": PreviewBarOption;\n        \"poi_highlight\": PreviewBarOption;\n        \"preview-poi_highlight\": PreviewBarOption;\n        \"filler\": PreviewBarOption;\n        \"preview-filler\": PreviewBarOption;\n    };\n}\n\nexport type VideoDownvotes = { segments: { uuid: HashedValue; hidden: SponsorHideType }[]; lastAccess: number };\n\nexport type ConfigurationID = string & { __configurationID: never };\n\nexport interface CustomConfiguration {\n    name: string;\n    categorySelections: CategorySelection[];\n    showAutogeneratedChapters: boolean | null;\n    autoSkipOnMusicVideos: boolean | null;\n    skipNonMusicOnlyOnYoutubeMusic: boolean | null;\n    muteSegments: boolean | null;\n    fullVideoSegments: boolean | null;\n    manualSkipOnFullVideo: boolean | null;\n    minDuration: number | null;\n}\n\ninterface SBStorage {\n    /* VideoID prefixes to UUID prefixes */\n    downvotedSegments: Record<VideoID & HashedValue, VideoDownvotes>;\n    navigationApiAvailable: boolean;\n\n    // Used when sync storage disabled\n    alreadyInstalled: boolean;\n\n    /* Contains unsubmitted segments that the user has created. */\n    unsubmittedSegments: Record<string, SponsorTime[]>;\n\n    channelSkipProfileIDs: Record<string, ConfigurationID>;\n    skipProfileTemp: { time: number; configID: ConfigurationID } | null;\n    skipProfiles: Record<ConfigurationID, CustomConfiguration>;\n\n    skipRules: AdvancedSkipRule[];\n}\n\nclass ConfigClass extends ProtoConfig<SBConfig, SBStorage> {\n    resetToDefault() {\n        chrome.storage.sync.set({\n            ...this.syncDefaults,\n            userID: this.config.userID,\n            minutesSaved: this.config.minutesSaved,\n            skipCount: this.config.skipCount,\n            sponsorTimesContributed: this.config.sponsorTimesContributed\n        });\n\n        chrome.storage.local.set({\n            ...this.localDefaults,\n        });\n    }\n}\n\nfunction migrateOldSyncFormats(config: SBConfig, local: SBStorage) {\n    if (local[\"skipRules\"] && local[\"skipRules\"].length !== 0 && local[\"skipRules\"][0][\"rules\"]) {\n        const output: AdvancedSkipRule[] = [];\n\n        for (const rule of local[\"skipRules\"]) {\n            const rules: object[] = rule[\"rules\"];\n\n            if (rules.length !== 0) {\n                let predicate: AdvancedSkipPredicate = {\n                    kind: \"check\",\n                    ...rules[0] as AdvancedSkipCheck,\n                };\n\n                for (let i = 1; i < rules.length; i++) {\n                    predicate = {\n                        kind: \"operator\",\n                        operator: PredicateOperator.And,\n                        left: predicate,\n                        right: {\n                            kind: \"check\",\n                            ...rules[i] as AdvancedSkipCheck,\n                        },\n                    };\n                }\n\n                const comment = rule[\"comment\"] as string;\n\n                output.push({\n                    predicate,\n                    skipOption: rule.skipOption,\n                    comments: comment.length === 0 ? [] : comment.split(/;\\s*/),\n                });\n            }\n        }\n\n        local[\"skipRules\"] = output;\n    }\n\n    if (config[\"whitelistedChannels\"]) {\n        // convert to skipProfiles\n        const whitelistedChannels = config[\"whitelistedChannels\"] as string[];\n        const skipProfileID: ConfigurationID = \"default-whitelist\" as ConfigurationID;\n\n        local.skipProfiles[skipProfileID] = {\n            name: chrome.i18n.getMessage(\"WhitelistedChannels\"),\n            categorySelections: config.categorySelections\n                .filter((s) => ![\"exclusive_access\", \"chapter\"].includes(s.name))\n                .map(s => ({\n                    name: s.name,\n                    option: CategorySkipOption.ShowOverlay\n            })),\n            showAutogeneratedChapters: null,\n            autoSkipOnMusicVideos: null,\n            skipNonMusicOnlyOnYoutubeMusic: null,\n            muteSegments: null,\n            fullVideoSegments: null,\n            manualSkipOnFullVideo: null,\n            minDuration: null\n        };\n        local.skipProfiles = local.skipProfiles;\n\n        for (const channelID of whitelistedChannels) {\n            local.channelSkipProfileIDs[channelID] = skipProfileID;\n        }\n        local.channelSkipProfileIDs = local.channelSkipProfileIDs;\n\n        chrome.storage.sync.remove(\"whitelistedChannels\");\n    }\n\n    if (!config[\"changeChapterColor\"]) {\n        config.barTypes[\"chapter\"].color = \"#ffd983\";\n        config[\"changeChapterColor\"] = true;\n        chrome.storage.sync.set({\n            \"changeChapterColor\": true,\n            \"barTypes\": config.barTypes\n        });\n    }\n\n    if (config[\"showZoomToFillError\"]) {\n        chrome.storage.sync.remove(\"showZoomToFillError\");\n    }\n\n    if (config[\"unsubmittedSegments\"] && Object.keys(config[\"unsubmittedSegments\"]).length > 0) {\n        chrome.storage.local.set({\n            unsubmittedSegments: config[\"unsubmittedSegments\"]\n        }, () => {\n            chrome.storage.sync.remove(\"unsubmittedSegments\");\n        });\n    }\n\n    if (!config[\"chapterCategoryAdded\"]) {\n        config[\"chapterCategoryAdded\"] = true;\n\n        if (!config.categorySelections.some((s) => s.name === \"chapter\")) {\n            config.categorySelections.push({\n                name: \"chapter\" as Category,\n                option: CategorySkipOption.ShowOverlay\n            });\n\n            config.categorySelections = config.categorySelections;\n        }\n    }\n\n    if (config[\"exclusive_accessCategoryAdded\"] !== undefined) {\n        chrome.storage.sync.remove(\"exclusive_accessCategoryAdded\");\n    }\n\n    if (config[\"fillerUpdate\"] !== undefined) {\n        chrome.storage.sync.remove(\"fillerUpdate\");\n    }\n    if (config[\"highlightCategoryAdded\"] !== undefined) {\n        chrome.storage.sync.remove(\"highlightCategoryAdded\");\n    }\n    if (config[\"highlightCategoryUpdate\"] !== undefined) {\n        chrome.storage.sync.remove(\"highlightCategoryUpdate\");\n    }\n\n    if (config[\"askAboutUnlistedVideos\"]) {\n        chrome.storage.sync.remove(\"askAboutUnlistedVideos\");\n    }\n\n    if (!config[\"autoSkipOnMusicVideosUpdate\"]) {\n        config[\"autoSkipOnMusicVideosUpdate\"] = true;\n        for (const selection of config.categorySelections) {\n            if (selection.name === \"music_offtopic\"\n                && selection.option === CategorySkipOption.AutoSkip) {\n\n                config.autoSkipOnMusicVideos = true;\n                break;\n            }\n        }\n    }\n\n    if (config[\"disableAutoSkip\"]) {\n        for (const selection of config.categorySelections) {\n            if (selection.name === \"sponsor\") {\n                selection.option = CategorySkipOption.ManualSkip;\n\n                chrome.storage.sync.remove(\"disableAutoSkip\");\n            }\n        }\n    }\n\n    if (typeof config[\"skipKeybind\"] == \"string\") {\n        config[\"skipKeybind\"] = { key: config[\"skipKeybind\"] };\n    }\n\n    if (typeof config[\"startSponsorKeybind\"] == \"string\") {\n        config[\"startSponsorKeybind\"] = { key: config[\"startSponsorKeybind\"] };\n    }\n\n    if (typeof config[\"submitKeybind\"] == \"string\") {\n        config[\"submitKeybind\"] = { key: config[\"submitKeybind\"] };\n    }\n\n    // Unbind key if it matches a previous one set by the user (should be ordered oldest to newest)\n    const keybinds = [\"skipKeybind\", \"startSponsorKeybind\", \"submitKeybind\"];\n    for (let i = keybinds.length - 1; i >= 0; i--) {\n        for (let j = 0; j < keybinds.length; j++) {\n            if (i == j)\n                continue;\n            if (keybindEquals(config[keybinds[i]], config[keybinds[j]]))\n                config[keybinds[i]] = null;\n        }\n    }\n\n    // Remove some old unused options\n    if (config[\"sponsorVideoID\"] !== undefined) {\n        chrome.storage.sync.remove(\"sponsorVideoID\");\n    }\n    if (config[\"previousVideoID\"] !== undefined) {\n        chrome.storage.sync.remove(\"previousVideoID\");\n    }\n\n    // populate invidiousInstances with new instances if 3p support is **DISABLED**\n    if (!config[\"supportInvidious\"] && config[\"invidiousInstances\"].length < invidiousList.length) {\n        config[\"invidiousInstances\"] = [...new Set([...invidiousList, ...config[\"invidiousInstances\"]])];\n    }\n\n    if (config[\"lastIsVipUpdate\"]) {\n        chrome.storage.sync.remove(\"lastIsVipUpdate\");\n    }\n}\n\nconst syncDefaults = {\n    userID: null,\n    isVip: false,\n    permissions: {},\n    defaultCategory: \"chooseACategory\" as Category,\n    segmentListDefaultTab: SegmentListDefaultTab.Segments,\n    renderSegmentsAsChapters: false,\n    forceChannelCheck: false,\n    minutesSaved: 0,\n    skipCount: 0,\n    sponsorTimesContributed: 0,\n    submissionCountSinceCategories: 0,\n    showTimeWithSkips: true,\n    disableSkipping: false,\n    muteSegments: true,\n    fullVideoSegments: true,\n    fullVideoLabelsOnThumbnails: true,\n    manualSkipOnFullVideo: false,\n    trackViewCount: true,\n    trackViewCountInPrivate: true,\n    trackDownvotes: true,\n    trackDownvotesInPrivate: false,\n    dontShowNotice: false,\n    showUpcomingNotice: false,\n    noticeVisibilityMode: NoticeVisibilityMode.FadedForAutoSkip,\n    hideVideoPlayerControls: false,\n    hideInfoButtonPlayerControls: false,\n    hideDeleteButtonPlayerControls: false,\n    hideUploadButtonPlayerControls: false,\n    hideSkipButtonPlayerControls: false,\n    hideDiscordLaunches: 0,\n    hideDiscordLink: false,\n    invidiousInstances: [],\n    supportInvidious: false,\n    serverAddress: CompileConfig.serverAddress,\n    minDuration: 0,\n    skipNoticeDuration: 4,\n    audioNotificationOnSkip: false,\n    checkForUnlistedVideos: false,\n    testingServer: false,\n    ytInfoPermissionGranted: false,\n    allowExpirements: true,\n    showDonationLink: true,\n    showPopupDonationCount: 0,\n    showUpsells: true,\n    showNewFeaturePopups: true,\n    donateClicked: 0,\n    autoHideInfoButton: true,\n    autoSkipOnMusicVideos: false,\n    skipNonMusicOnlyOnYoutubeMusic: false,\n    scrollToEditTimeUpdate: false, // false means the tooltip will be shown\n    categoryPillUpdate: false,\n    hookUpdate: false,\n    showChapterInfoMessage: true,\n    darkMode: true,\n    showCategoryGuidelines: true,\n    showCategoryWithoutPermission: false,\n    showSegmentNameInChapterBar: true,\n    showAutogeneratedChapters: true,\n    useVirtualTime: true,\n    showSegmentFailedToFetchWarning: true,\n    allowScrollingToEdit: true,\n    deArrowInstalled: false,\n    showDeArrowPromotion: true,\n    showDeArrowInSettings: true,\n    shownDeArrowPromotion: false,\n    showZoomToFillError2: true,\n    cleanPopup: false,\n    hideSegmentCreationInPopup: false,\n    prideTheme: false,\n\n    categoryPillColors: {},\n\n    /**\n     * Default keybinds should not set \"code\" as that's gonna be different based on the user's locale. They should also only use EITHER ctrl OR alt modifiers (or none).\n     * Using ctrl+alt, or shift may produce a different character that we will not be able to recognize in different locales.\n     * The exception for shift is letters, where it only capitalizes. So shift+A is fine, but shift+1 isn't.\n     * Don't forget to add the new keybind to the checks in \"KeybindDialogComponent.isKeybindAvailable()\" and in \"migrateOldFormats()\"!\n     *      TODO: Find a way to skip having to update these checks. Maybe storing keybinds in a Map?\n     */\n    skipKeybind: { key: \"Enter\" },\n    skipToHighlightKeybind: { key: \"Enter\", ctrl: true },\n    startSponsorKeybind: { key: \";\" },\n    submitKeybind: { key: \"'\" },\n    actuallySubmitKeybind: { key: \"'\", ctrl: true },\n    previewKeybind: { key: \";\", ctrl: true },\n    nextChapterKeybind: { key: \"ArrowRight\", ctrl: true },\n    previousChapterKeybind: { key: \"ArrowLeft\", ctrl: true },\n    closeSkipNoticeKeybind: { key: \"Backspace\" },\n    downvoteKeybind: { key: \"h\", shift: true },\n    upvoteKeybind: { key: \"g\", shift: true },\n\n    categorySelections: [{\n        name: \"sponsor\" as Category,\n        option: CategorySkipOption.AutoSkip\n    }, {\n        name: \"poi_highlight\" as Category,\n        option: CategorySkipOption.ManualSkip\n    }, {\n        name: \"exclusive_access\" as Category,\n        option: CategorySkipOption.ShowOverlay\n    }, {\n        name: \"chapter\" as Category,\n        option: CategorySkipOption.ShowOverlay\n    }],\n\n    payments: {\n        licenseKey: null,\n        lastCheck: 0,\n        lastFreeCheck: 0,\n        freeAccess: false,\n        chaptersAllowed: false\n    },\n\n    colorPalette: {\n        red: \"#780303\",\n        white: \"#ffffff\",\n        locked: \"#ffc83d\"\n    },\n\n    // Preview bar\n    barTypes: {\n        \"preview-chooseACategory\": {\n            color: \"#ffffff\",\n            opacity: \"0.7\"\n        },\n        \"sponsor\": {\n            color: \"#00d400\",\n            opacity: \"0.7\"\n        },\n        \"preview-sponsor\": {\n            color: \"#007800\",\n            opacity: \"0.7\"\n        },\n        \"selfpromo\": {\n            color: \"#ffff00\",\n            opacity: \"0.7\"\n        },\n        \"preview-selfpromo\": {\n            color: \"#bfbf35\",\n            opacity: \"0.7\"\n        },\n        \"exclusive_access\": {\n            color: \"#008a5c\",\n            opacity: \"0.7\"\n        },\n        \"interaction\": {\n            color: \"#cc00ff\",\n            opacity: \"0.7\"\n        },\n        \"preview-interaction\": {\n            color: \"#6c0087\",\n            opacity: \"0.7\"\n        },\n        \"intro\": {\n            color: \"#00ffff\",\n            opacity: \"0.7\"\n        },\n        \"preview-intro\": {\n            color: \"#008080\",\n            opacity: \"0.7\"\n        },\n        \"outro\": {\n            color: \"#0202ed\",\n            opacity: \"0.7\"\n        },\n        \"preview-outro\": {\n            color: \"#000070\",\n            opacity: \"0.7\"\n        },\n        \"preview\": {\n            color: \"#008fd6\",\n            opacity: \"0.7\"\n        },\n        \"preview-preview\": {\n            color: \"#005799\",\n            opacity: \"0.7\"\n        },\n        \"hook\": {\n            color: \"#395699\",\n            opacity: \"0.8\"\n        },\n        \"preview-hook\": {\n            color: \"#273963\",\n            opacity: \"0.7\"\n        },\n        \"music_offtopic\": {\n            color: \"#ff9900\",\n            opacity: \"0.7\"\n        },\n        \"preview-music_offtopic\": {\n            color: \"#a6634a\",\n            opacity: \"0.7\"\n        },\n        \"poi_highlight\": {\n            color: \"#ff1684\",\n            opacity: \"0.7\"\n        },\n        \"preview-poi_highlight\": {\n            color: \"#9b044c\",\n            opacity: \"0.7\"\n        },\n        \"filler\": {\n            color: \"#7300FF\",\n            opacity: \"0.9\"\n        },\n        \"preview-filler\": {\n            color: \"#2E0066\",\n            opacity: \"0.7\"\n        },\n        \"chapter\": {\n            color: \"#ffd983\",\n            opacity: \"0\"\n        },\n    }\n};\n\nconst localDefaults = {\n    downvotedSegments: {},\n    navigationApiAvailable: null,\n    alreadyInstalled: false,\n\n    unsubmittedSegments: {},\n    skipRules: [],\n\n    channelSkipProfileIDs: {},\n    skipProfiles: {},\n    skipProfileTemp: null\n};\n\nconst Config = new ConfigClass(syncDefaults, localDefaults, migrateOldSyncFormats);\nexport default Config;\n\nexport function generateDebugDetails(): string {\n    // Build output debug information object\n    const output = {\n        debug: {\n            userAgent: navigator.userAgent,\n            platform: navigator.platform,\n            language: navigator.language,\n            extensionVersion: chrome.runtime.getManifest().version\n        },\n        config: JSON.parse(JSON.stringify(Config.cachedSyncConfig)) // Deep clone config object\n    };\n\n    // Sanitise sensitive user config values\n    delete output.config.userID;\n    output.config.serverAddress = (output.config.serverAddress === CompileConfig.serverAddress)\n        ? \"Default server address\" : \"Custom server address\";\n    output.config.invidiousInstances = output.config.invidiousInstances.length;\n    output.config.skipRules = output.config.skipRules.length;\n\n    return JSON.stringify(output, null, 4);\n}\n","import { localizeHtmlPage } from \"../maze-utils/src/setup\";\nimport Config from \"./config\";\nimport { showDonationLink } from \"./utils/configUtils\";\n\nimport { waitFor } from \"../maze-utils/src\";\nimport { isDeArrowInstalled } from \"./utils/crossExtension\";\n\nif (document.readyState === \"complete\") {\n    init();\n} else {\n    document.addEventListener(\"DOMContentLoaded\", init);\n}\n\n// DeArrow promotion\nwaitFor(() => Config.isReady()).then(() => {\n    if (Config.config.showNewFeaturePopups && Config.config.showUpsells) {\n        isDeArrowInstalled().then((installed) => {\n            if (!installed) {\n                const deArrowPromotion = document.getElementById(\"dearrow-link\");\n                deArrowPromotion.classList.remove(\"hidden\");\n\n                deArrowPromotion.addEventListener(\"click\", () => Config.config.showDeArrowPromotion = false);\n\n                const text = deArrowPromotion.querySelector(\"#dearrow-link-text\");\n                text.textContent = `${chrome.i18n.getMessage(\"DeArrowPromotionMessage2\").split(\"?\")[0]}? ${chrome.i18n.getMessage(\"DeArrowPromotionMessage3\")}`;\n\n                const closeButton = deArrowPromotion.querySelector(\".close-button\");\n                closeButton.addEventListener(\"click\", (e) => {\n                    e.preventDefault();\n\n                    deArrowPromotion.classList.add(\"hidden\");\n                    Config.config.showDeArrowPromotion = false;\n                    Config.config.showDeArrowInSettings = false;\n                });\n            }\n        });\n    }\n});\n\nasync function init() {\n    localizeHtmlPage();\n\n    await waitFor(() => Config.config !== null);\n\n    if (!Config.config.darkMode) {\n        document.documentElement.setAttribute(\"data-theme\", \"light\");\n    }\n\n    if (!showDonationLink()) {\n        document.getElementById(\"donate-component\").style.display = \"none\";\n    }\n}","import SubmissionNotice from \"./render/SubmissionNotice\";\nimport SkipNoticeComponent from \"./components/SkipNoticeComponent\";\nimport SkipNotice from \"./render/SkipNotice\";\n\nexport interface ContentContainer {\n    (): {\n        vote: (type: number, UUID: SegmentUUID, category?: Category, skipNotice?: SkipNoticeComponent) => void;\n        dontShowNoticeAgain: () => void;\n        unskipSponsorTime: (segment: SponsorTime, unskipTime: number, forceSeek?: boolean, voteNotice?: boolean) => void;\n        sponsorTimes: SponsorTime[];\n        sponsorTimesSubmitting: SponsorTime[];\n        skipNotices: SkipNotice[];\n        sponsorVideoID;\n        reskipSponsorTime: (segment: SponsorTime, forceSeek?: boolean) => void;\n        updatePreviewBar: () => void;\n        onMobileYouTube: boolean;\n        sponsorSubmissionNotice: SubmissionNotice;\n        resetSponsorSubmissionNotice: (callRef?: boolean) => void;\n        updateEditButtonsOnPlayer: () => void;\n        previewTime: (time: number, unpause?: boolean) => void;\n        videoInfo: VideoInfo;\n        getRealCurrentTime: () => number;\n        lockedCategories: string[];\n        channelIDInfo: ChannelIDInfo;\n    };\n}\n\nexport interface VideoDurationResponse {\n    duration: number;\n}\n\nexport enum CategorySkipOption {\n    FallbackToDefault = -2,\n    Disabled = -1,\n    ShowOverlay,\n    ManualSkip,\n    AutoSkip\n}\n\nexport interface CategorySelection {\n    name: Category;\n    option: CategorySkipOption;\n}\n\nexport enum SponsorHideType {\n    Visible = undefined,\n    Downvoted = 1,\n    MinimumDuration,\n    Hidden,\n}\n\nexport enum ActionType {\n    Skip = \"skip\",\n    Mute = \"mute\",\n    Chapter = \"chapter\",\n    Full = \"full\",\n    Poi = \"poi\"\n}\n\nexport const ActionTypes = [\n    ActionType.Skip,\n    ActionType.Mute,\n    ActionType.Chapter,\n    ActionType.Full,\n    ActionType.Poi\n];\n\nexport type SegmentUUID = string  & { __segmentUUIDBrand: unknown };\nexport type Category = string & { __categoryBrand: unknown };\n\nexport enum SponsorSourceType {\n    Server = undefined,\n    Local = 1,\n    YouTube = 2,\n    Autogenerated = 3\n}\n\nexport interface SegmentContainer {\n    segment: [number] | [number, number];\n}\n\nexport interface SponsorTime extends SegmentContainer {\n    UUID: SegmentUUID;\n    locked?: number;\n\n    category: Category;\n    actionType: ActionType;\n    description?: string;\n\n    hidden?: SponsorHideType;\n    source: SponsorSourceType;\n    videoDuration?: number;\n}\n\nexport interface ScheduledTime extends SponsorTime {\n    scheduledTime: number;\n}\n\nexport interface PreviewBarOption {\n    color: string;\n    opacity: string;\n}\n\n\nexport interface Registration {\n    message: string;\n    id: string;\n    allFrames: boolean;\n    js: string[];\n    css: string[];\n    matches: string[];\n}\n\nexport interface BackgroundScriptContainer {\n    registerFirefoxContentScript: (opts: Registration) => void;\n    unregisterFirefoxContentScript: (id: string) => void;\n}\n\nexport interface VideoInfo {\n    responseContext: {\n        serviceTrackingParams: Array<{service: string; params: Array<{key: string; value: string}>}>;\n        webResponseContextExtensionData: {\n            hasDecorated: boolean;\n        };\n    };\n    playabilityStatus: {\n        status: string;\n        playableInEmbed: boolean;\n        miniplayer: {\n            miniplayerRenderer: {\n                playbackMode: string;\n            };\n        };\n    };\n    streamingData: unknown;\n    playbackTracking: unknown;\n    videoDetails: {\n        videoId: string;\n        title: string;\n        lengthSeconds: string;\n        keywords: string[];\n        channelId: string;\n        isOwnerViewing: boolean;\n        shortDescription: string;\n        isCrawlable: boolean;\n        thumbnail: {\n            thumbnails: Array<{url: string; width: number; height: number}>;\n        };\n        averageRating: number;\n        allowRatings: boolean;\n        viewCount: string;\n        author: string;\n        isPrivate: boolean;\n        isUnpluggedCorpus: boolean;\n        isLiveContent: boolean;\n    };\n    playerConfig: unknown;\n    storyboards: unknown;\n    microformat: {\n        playerMicroformatRenderer: {\n            thumbnail: {\n                thumbnails: Array<{url: string; width: number; height: number}>;\n            };\n            embed: {\n                iframeUrl: string;\n                flashUrl: string;\n                width: number;\n                height: number;\n                flashSecureUrl: string;\n            };\n            title: {\n                simpleText: string;\n            };\n            description: {\n                simpleText: string;\n            };\n            lengthSeconds: string;\n            ownerProfileUrl: string;\n            externalChannelId: string;\n            availableCountries: string[];\n            isUnlisted: boolean;\n            hasYpcMetadata: boolean;\n            viewCount: string;\n            category: Category;\n            publishDate: string;\n            ownerChannelName: string;\n            uploadDate: string;\n        };\n    };\n    trackingParams: string;\n    attestation: unknown;\n    messages: unknown;\n}\n\nexport type VideoID = string;\n\nexport type UnEncodedSegmentTimes = [string, SponsorTime[]][];\n\nexport enum ChannelIDStatus {\n    Fetching,\n    Found,\n    Failed\n}\n\nexport interface ChannelIDInfo {\n    id: string;\n    status: ChannelIDStatus;\n}\n\nexport interface SkipToTimeParams {\n    v: HTMLVideoElement; \n    skipTime: number[]; \n    skippingSegments: SponsorTime[]; \n    openNotice: boolean; \n    forceAutoSkip?: boolean;\n    unskipTime?: number;\n}\n\nexport interface ToggleSkippable {\n    toggleSkip: () => void;\n    setShowKeybindHint: (show: boolean) => void;\n}\n\nexport enum NoticeVisibilityMode {\n    FullSize = 0,\n    MiniForAutoSkip = 1,\n    MiniForAll = 2,\n    FadedForAutoSkip = 3,\n    FadedForAll = 4\n}\n\nexport enum SegmentListDefaultTab {\n    Segments,\n    Chapters,\n}","import Config from \"../config\";\n\nexport function showDonationLink(): boolean {\n    return navigator.vendor !== \"Apple Computer, Inc.\" && Config.config.showDonationLink;\n}","import * as CompileConfig from \"../../config.json\";\n\nimport Config from \"../config\";\nimport { isSafari } from \"../../maze-utils/src/config\";\nimport { isFirefoxOrSafari } from \"../../maze-utils/src\";\n\nexport function isDeArrowInstalled(): Promise<boolean> {\n    if (Config.config.deArrowInstalled) {\n        return Promise.resolve(true);\n    } else {\n        return new Promise((resolve) => {\n            const extensionIds = getExtensionIdsToImportFrom();\n\n            let count = 0;\n            for (const id of extensionIds) {\n                chrome.runtime.sendMessage(id, { message: \"isInstalled\" }, (response) => {\n                    if (chrome.runtime.lastError) {\n                        count++;\n\n                        if (count === extensionIds.length) {\n                            resolve(false);\n                        }\n                        return;\n                    }\n\n                    resolve(response);\n                    if (response) {\n                        Config.config.deArrowInstalled = true;\n                    }\n                });\n            }\n        });\n    }\n}\n\nexport function getExtensionIdsToImportFrom(): string[] {\n    if (isSafari()) {\n        return CompileConfig.extensionImportList.safari;\n    } else if (isFirefoxOrSafari()) {\n        return CompileConfig.extensionImportList.firefox;\n    } else {\n        return CompileConfig.extensionImportList.chromium;\n    }\n}","import type { CategorySkipOption } from \"../types\";\n\nexport interface Permission {\n    canSubmit: boolean;\n}\n\n// Note that attributes that are prefixes of other attributes (like `time.start`) need to be ordered *after*\n// the longer attributes, because these are matched sequentially. Using the longer attribute would otherwise result\n// in an error token.\nexport enum SkipRuleAttribute {\n    StartTimePercent = \"time.startPercent\",\n    StartTime = \"time.start\",\n    EndTimePercent = \"time.endPercent\",\n    EndTime = \"time.end\",\n    DurationPercent = \"time.durationPercent\",\n    Duration = \"time.duration\",\n    Category = \"category\",\n    ActionType = \"actionType\",\n    Description = \"chapter.name\",\n    Source = \"chapter.source\",\n    ChannelID = \"channel.id\",\n    ChannelName = \"channel.name\",\n    VideoDuration = \"video.duration\",\n    Title = \"video.title\"\n}\n\n// Note that operators that are prefixes of other attributes (like `<`) need to be ordered *after* the longer\n// operators, because these are matched sequentially. Using the longer operator would otherwise result\n// in an error token.\nexport enum SkipRuleOperator {\n    LessOrEqual = \"<=\",\n    Less = \"<\",\n    GreaterOrEqual = \">=\",\n    Greater = \">\",\n    NotEqual = \"!=\",\n    Equal = \"==\",\n    NotContains = \"!*=\",\n    Contains = \"*=\",\n    NotRegex = \"!~=\",\n    Regex = \"~=\",\n    NotRegexIgnoreCase = \"!~i=\",\n    RegexIgnoreCase = \"~i=\"\n}\n\nexport interface AdvancedSkipCheck {\n    kind: \"check\";\n    attribute: SkipRuleAttribute;\n    operator: SkipRuleOperator;\n    value: string | number;\n}\n\nexport enum PredicateOperator {\n    And = \"and\",\n    Or = \"or\",\n}\n\nexport interface AdvancedSkipOperator {\n    kind: \"operator\";\n    operator: PredicateOperator;\n    left: AdvancedSkipPredicate;\n    right: AdvancedSkipPredicate;\n    displayInverted?: boolean;\n}\n\nexport type AdvancedSkipPredicate = AdvancedSkipCheck | AdvancedSkipOperator;\n\nexport interface AdvancedSkipRule {\n    predicate: AdvancedSkipPredicate;\n    skipOption: CategorySkipOption;\n    comments: string[];\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(3105);\n"],"names":["isSafari","navigator","vendor","formatKey","key","length","toUpperCase","constructor","syncDefaults","localDefaults","migrateOldSyncFormats","inDeArrow","configLocalListeners","configSyncListeners","cachedSyncConfig","cachedLocalStorage","config","local","this","setupConfig","then","result","sync","configProxy","chrome","storage","onChanged","addListener","changes","areaName","newValue","callback","lastSet","nextToUpdate","Set","activeTimeout","self","syncHandler","set","obj","prop","value","Date","now","add","delayUpdate","items","clear","map","v","reduce","acc","k","setTimeout","get","data","deleteProperty","remove","localHandler","Proxy","handler","forceSyncUpdate","forceLocalUpdate","error","runtime","lastError","alert","i18n","getMessage","fetchConfig","Promise","all","resolve","undefined","window","location","href","includes","isFirefoxOrSafari","addDefaults","Object","prototype","hasOwnProperty","call","key2","isReady","first","second","Boolean","alt","ctrl","shift","code","keybind","ret","condition","timeout","check","predicate","reject","interval","intervalCheck","clearInterval","toString","Error","stack","setInterval","url","includeQuestionMark","counter","seperator","JSON","stringify","encodeURIComponent","PromiseTimeoutError","promise","super","onFirefoxOrSafari","getManifest","browser_specific_settings","onFirefox","gecko","cachedUserAgent","id","version","getLocalizedMessage","text","valNewH","replace","match","v1","charset","cryptoFuncs","crypto","getRandomValues","values","Uint32Array","i","Math","floor","random","localizedTitle","document","title","body","querySelector","localizedMessage","innerHTML","ConfigClass","ProtoConfig","resetToDefault","userID","minutesSaved","skipCount","sponsorTimesContributed","Config","isVip","permissions","defaultCategory","segmentListDefaultTab","SegmentListDefaultTab","Segments","renderSegmentsAsChapters","forceChannelCheck","submissionCountSinceCategories","showTimeWithSkips","disableSkipping","muteSegments","fullVideoSegments","fullVideoLabelsOnThumbnails","manualSkipOnFullVideo","trackViewCount","trackViewCountInPrivate","trackDownvotes","trackDownvotesInPrivate","dontShowNotice","showUpcomingNotice","noticeVisibilityMode","NoticeVisibilityMode","FadedForAutoSkip","hideVideoPlayerControls","hideInfoButtonPlayerControls","hideDeleteButtonPlayerControls","hideUploadButtonPlayerControls","hideSkipButtonPlayerControls","hideDiscordLaunches","hideDiscordLink","invidiousInstances","supportInvidious","serverAddress","CompileConfig","minDuration","skipNoticeDuration","audioNotificationOnSkip","checkForUnlistedVideos","testingServer","ytInfoPermissionGranted","allowExpirements","showDonationLink","showPopupDonationCount","showUpsells","showNewFeaturePopups","donateClicked","autoHideInfoButton","autoSkipOnMusicVideos","skipNonMusicOnlyOnYoutubeMusic","scrollToEditTimeUpdate","categoryPillUpdate","hookUpdate","showChapterInfoMessage","darkMode","showCategoryGuidelines","showCategoryWithoutPermission","showSegmentNameInChapterBar","showAutogeneratedChapters","useVirtualTime","showSegmentFailedToFetchWarning","allowScrollingToEdit","deArrowInstalled","showDeArrowPromotion","showDeArrowInSettings","shownDeArrowPromotion","showZoomToFillError2","cleanPopup","hideSegmentCreationInPopup","prideTheme","categoryPillColors","skipKeybind","skipToHighlightKeybind","startSponsorKeybind","submitKeybind","actuallySubmitKeybind","previewKeybind","nextChapterKeybind","previousChapterKeybind","closeSkipNoticeKeybind","downvoteKeybind","upvoteKeybind","categorySelections","name","option","CategorySkipOption","AutoSkip","ManualSkip","ShowOverlay","payments","licenseKey","lastCheck","lastFreeCheck","freeAccess","chaptersAllowed","colorPalette","red","white","locked","barTypes","color","opacity","downvotedSegments","navigationApiAvailable","alreadyInstalled","unsubmittedSegments","skipRules","channelSkipProfileIDs","skipProfiles","skipProfileTemp","output","rule","rules","kind","operator","PredicateOperator","And","left","right","comment","push","skipOption","comments","split","whitelistedChannels","skipProfileID","filter","s","channelID","keys","some","selection","keybinds","j","keybindEquals","invidiousList","debug","userAgent","platform","language","extensionVersion","parse","init","localizeHtmlPage","waitFor","documentElement","setAttribute","getElementById","style","display","readyState","addEventListener","isDeArrowInstalled","installed","deArrowPromotion","classList","textContent","e","preventDefault","ActionType","ChannelIDStatus","SponsorSourceType","SponsorHideType","ActionTypes","Skip","Mute","Chapter","Full","Poi","getExtensionIdsToImportFrom","extensionImportList","safari","firefox","chromium","extensionIds","count","sendMessage","message","response","SkipRuleOperator","SkipRuleAttribute","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__"],"sourceRoot":""}